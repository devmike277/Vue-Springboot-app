{"ast":null,"code":"import TaskService from \"../Services/TaskService\";\nexport default {\n  data() {\n    return {\n      tasks: []\n    };\n  },\n\n  created() {\n    this.retrieveTasks();\n  },\n\n  methods: {\n    //this method call a function from service to retrieve all the information from de database\n    retrieveTasks() {\n      TaskService.getTasks().then(response => {\n        if (response.status == 200 && Object.keys(response.data).length !== 0) {\n          this.tasks = response.data;\n        }\n      }).catch(error => {\n        console.log(error);\n      }).finally(() => {//Do somethin if it's needed\n      });\n    },\n\n    //This method call a function from service to delete a specific task identified by id\n    deleteTask(id) {\n      if (confirm(\"Are you sure to delete the task?\")) {\n        TaskService.deleteTask(id).then(response => {\n          console.log(response.data);\n\n          if (response.data.deleted) {\n            window.location.href = 'list-tasks';\n          }\n        }).catch(error => {\n          console.log(error);\n        }).finally(() => {//Do somethin if it's needed\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8CA,OAAOA,WAAP,MAAwB,yBAAxB;AAEA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,KAAK,EAAE;IADF,CAAP;EAGD,CALY;;EAMbC,OAAO,GAAG;IACR,KAAKC,aAAL;EAED,CATY;;EAUbC,OAAO,EAAE;IACP;IACAD,aAAa,GAAG;MACdJ,WAAW,CAACM,QAAZ,GACGC,IADH,CACSC,QAAD,IAAc;QAClB,IAAKA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BC,MAAM,CAACC,IAAP,CAAYH,QAAQ,CAACP,IAArB,EAA2BW,MAA3B,KAAsC,CAArE,EAAyE;UACvE,KAAKV,KAAL,GAAaM,QAAQ,CAACP,IAAtB;QACF;MACD,CALH,EAMGY,KANH,CAMUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CARH,EASGG,OATH,CASW,MAAM,CACb;MACD,CAXH;IAYD,CAfM;;IAgBP;IACAC,UAAU,CAACC,EAAD,EAAK;MACb,IAAGC,OAAO,CAAC,kCAAD,CAAV,EAA+C;QAC7CpB,WAAW,CAACkB,UAAZ,CAAuBC,EAAvB,EACGZ,IADH,CACSC,QAAD,IAAc;UAClBO,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACP,IAArB;;UACA,IAAGO,QAAQ,CAACP,IAAT,CAAcoB,OAAjB,EAAyB;YACvBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,YAAvB;UACF;QACD,CANH,EAOGX,KAPH,CAOUC,KAAD,IAAW;UAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACD,CATH,EAUGG,OAVH,CAUW,MAAM,CACb;QACD,CAZH;MAaF;IACD;;EAjCM;AAVI,CAAf","names":["TaskService","data","tasks","created","retrieveTasks","methods","getTasks","then","response","status","Object","keys","length","catch","error","console","log","finally","deleteTask","id","confirm","deleted","window","location","href"],"sourceRoot":"","sources":["/home/maik/eclipse-workspace/technical-test-frontend/src/components/ListTasks.vue"],"sourcesContent":["/**\n * This file contains the code to view all the entries \n * of the task table.\n */\n<template>\n  <div class=\"container\">\n    <h1 class=\"text-center\">Tasks List</h1>\n    <div class=\"card-body\">\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th></th>\n            <th>Task Id</th>\n            <th>Task Name</th>\n            <th>Task Creation</th>\n            <th>Task State</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"task in tasks\" v-bind:key=\"task.id\">\n            <td>\n               <router-link :to=\"{name:'task-detail',params:{id:task.id,taskName:task.name,creationTime:task.creationTime,state:task.state}}\" class=\"btn btn-primary\">Detail</router-link>\n            </td>\n            <td>{{ task.id }}</td>\n            <td>{{ task.name }}</td>\n            <td>{{ task.creationTime }}</td>\n            <td>{{ task.state }}</td>\n            <td>\n               <div class=\"row\">\n                <div class=\"col-md-4 col-xs-3\">\n                  <router-link :to=\"{name:'edit-task',params:{id:task.id,taskName:task.name,creationTime:task.creationTime,state:task.state}}\" class=\"btn btn-success\">Edit</router-link>\n                </div>\n                <div class=\"col-md-4 col-xs-3\">\n                  <button class=\"btn btn-danger\" v-on:click=\"deleteTask(task.id)\">Delete</button>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TaskService from \"../Services/TaskService\";\n\nexport default {\n  data() {\n    return {\n      tasks: [],\n    };\n  },\n  created() {\n    this.retrieveTasks();\n\n  },\n  methods: {\n    //this method call a function from service to retrieve all the information from de database\n    retrieveTasks() {\n      TaskService.getTasks()\n        .then((response) => {\n          if ( response.status == 200 && Object.keys(response.data).length !== 0 ) {\n            this.tasks = response.data;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          //Do somethin if it's needed\n        });\n    },\n    //This method call a function from service to delete a specific task identified by id\n    deleteTask(id) {\n      if(confirm(\"Are you sure to delete the task?\")){\n        TaskService.deleteTask(id)  \n          .then((response) => {\n            console.log(response.data);\n            if(response.data.deleted){\n              window.location.href = 'list-tasks';\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          })\n          .finally(() => {\n            //Do somethin if it's needed\n          });\n      }\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}